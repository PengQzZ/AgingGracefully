import{T as x}from"./index-ec902864.js";import{I as L}from"./index-371a1e32.js";import{c as N,s as a,n as u,m as A,w as B}from"./index-1d524986.js";import{e as C,b as t,d as I,ag as _}from"./index-4aaa8925.js";const[z,c]=N("card"),O={tag:String,num:u,desc:String,thumb:String,title:String,price:u,centered:Boolean,lazyLoad:Boolean,currency:A("Â¥"),thumbLink:String,originPrice:u};var V=C({name:z,props:O,emits:["clickThumb"],setup(r,{slots:e,emit:n}){const g=()=>{if(e.title)return e.title();if(r.title)return t("div",{class:[c("title"),"van-multi-ellipsis--l2"]},[r.title])},h=()=>{if(e.tag||r.tag)return t("div",{class:c("tag")},[e.tag?e.tag():t(x,{mark:!0,type:"primary"},{default:()=>[r.tag]})])},f=()=>e.thumb?e.thumb():t(L,{src:r.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:r.lazyLoad},null),v=()=>{if(e.thumb||r.thumb)return t("a",{href:r.thumbLink,class:c("thumb"),onClick:i=>n("clickThumb",i)},[f(),h()])},b=()=>{if(e.desc)return e.desc();if(r.desc)return t("div",{class:[c("desc"),"van-ellipsis"]},[r.desc])},S=()=>{const i=r.price.toString().split(".");return t("div",null,[t("span",{class:c("price-currency")},[r.currency]),t("span",{class:c("price-integer")},[i[0]]),I("."),t("span",{class:c("price-decimal")},[i[1]])])};return()=>{var i,d,m;const o=e.num||a(r.num),l=e.price||a(r.price),s=e["origin-price"]||a(r.originPrice),P=o||l||s||e.bottom,p=l&&t("div",{class:c("price")},[e.price?e.price():S()]),T=s&&t("div",{class:c("origin-price")},[e["origin-price"]?e["origin-price"]():`${r.currency} ${r.originPrice}`]),y=o&&t("div",{class:c("num")},[e.num?e.num():`x${r.num}`]),w=e.footer&&t("div",{class:c("footer")},[e.footer()]),k=P&&t("div",{class:c("bottom")},[(i=e["price-top"])==null?void 0:i.call(e),p,T,y,(d=e.bottom)==null?void 0:d.call(e)]);return t("div",{class:c()},[t("div",{class:c("header")},[v(),t("div",{class:c("content",{centered:r.centered})},[t("div",null,[g(),b(),(m=e.tags)==null?void 0:m.call(e)]),k])]),w])}}});const j=B(V),q=_("app",{state:()=>({recentSearch:["a","b"],cart:{data:{2:{num:0,price:0}},total:0,sumPrice:0},searchValue:"aaa"}),getters:{getRecentSearch:function(){var r=[...this.recentSearch].reverse();return console.log("newarr",r),r=r.filter((e,n)=>r.indexOf(e)===n),r.slice(0,10)}},actions:{saveRecentSearch:function(r){this.recentSearch[this.recentSearch.length-1]!=r&&this.recentSearch.push(r)}},persist:{enabled:!0,strategies:[{key:"app",storage:localStorage}]}});export{j as C,q as u};
