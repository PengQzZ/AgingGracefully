import{e as N,f as U,b as r,g as z,m as F,aa as T,B as K,r as L,k as Y,ab as y,o as g,c as k,w as u,u as f,F as P,Y as $,s as h,L as H,d as S,i as M,a3 as X,a4 as J}from"./index-4aaa8925.js";import{S as Q}from"./index-f2e9f792.js";import{R as W,C as Z}from"./index-04028929.js";import"./index-371a1e32.js";import"./index-ec902864.js";import{u as ee,C as ae}from"./index-1468639d.js";import{S as te}from"./index-81e91a63.js";import{c as oe,s as le}from"./index-1eaa9a7e.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";import{c as G,y as ce,v as w,n as j,f as se,e as re,t as ue,z as de,p as ie,w as me}from"./index-1d524986.js";import{u as B}from"./use-expose-4d3535a4.js";import"./index-81d9fd27.js";import"./use-route-650222ba.js";import"./index-0401c95d.js";import"./use-placeholder-db37aa89.js";import"./on-popup-reopen-bc1917c0.js";import"./interceptor-e50a7bfa.js";const[E,pe]=G("checkbox-group"),_e={max:j,disabled:Boolean,iconSize:j,direction:String,modelValue:se(),checkedColor:String},D=Symbol(E);N({name:E,props:_e,emits:["change","update:modelValue"],setup(t,{emit:d,slots:i}){const{children:e,linkChildren:m}=ce(D),n=o=>d("update:modelValue",o),p=(o={})=>{typeof o=="boolean"&&(o={checked:o});const{checked:s,skipDisabled:_}=o,a=e.filter(l=>l.props.bindGroup?l.props.disabled&&_?l.checked.value:s??!l.checked.value:!1).map(l=>l.name);n(a)};return U(()=>t.modelValue,o=>d("change",o)),B({toggleAll:p}),w(()=>t.modelValue),m({props:t,updateValue:n}),()=>{var o;return r("div",{class:pe([t.direction])},[(o=i.default)==null?void 0:o.call(i)])}}});const[fe,be]=G("checkbox"),he=re({},oe,{bindGroup:ue});var ve=N({name:fe,props:he,emits:["change","update:modelValue"],setup(t,{emit:d,slots:i}){const{parent:e}=de(D),m=o=>{const{name:s}=t,{max:_,modelValue:b}=e.props,a=b.slice();if(o)!(_&&a.length>=+_)&&!a.includes(s)&&(a.push(s),t.bindGroup&&e.updateValue(a));else{const l=a.indexOf(s);l!==-1&&(a.splice(l,1),t.bindGroup&&e.updateValue(a))}},n=z(()=>e&&t.bindGroup?e.props.modelValue.indexOf(t.name)!==-1:!!t.modelValue),p=(o=!n.value)=>{e&&t.bindGroup?m(o):d("update:modelValue",o)};return U(()=>t.modelValue,o=>d("change",o)),B({toggle:p,props:t,checked:n}),w(()=>t.modelValue),()=>r(le,F({bem:be,role:"checkbox",parent:e,checked:n.value,onToggle:p},t),ie(i,["default","icon"]))}});const ge=me(ve);const V=t=>(X("data-v-ade63b86"),t=t(),J(),t),ke={class:"cardbody"},Ve={style:{color:"gray"}},xe=V(()=>h("br",null,null,-1)),Ce=V(()=>h("span",{style:{color:"gray"}},"其他信息",-1)),ye=V(()=>h("br",null,null,-1)),Pe={__name:"Cart",emits:["change"],setup(t,{emit:d}){const i=ee(),{cart:e}=T(i),m=K({data:{}});var n=L(!1);Y(()=>{o(),b(),d("change",y.currentRoute.value.meta.title)});function p(){console.log("跳转到确认订单页面"),y.push({name:"order_submit"})}function o(){const a=[{id:1,imgUrl:"//img10.360buyimg.com/n2/s240x240_jfs/t1/210890/22/4728/163829/6163a590Eb7c6f4b5/6390526d49791cb9.jpg!q70.jpg",title:"活蟹】湖塘煙雨 阳澄湖大闸蟹公4.5两 母3.5两 4对8只 鲜活生鲜螃蟹现货水产礼盒海鲜水",price:"388",vipPrice:"378",shopDesc:"自营",delivery:"厂商配送"},{id:2,imgUrl:"//img10.360buyimg.com/n2/s240x240_jfs/t1/210890/22/4728/163829/6163a590Eb7c6f4b5/6390526d49791cb9.jpg!q70.jpg",title:"活蟹】湖塘煙雨 阳澄湖大闸蟹公4.5两 母3.5两 4对8只 鲜活生鲜螃蟹现货水产礼盒海鲜水",price:"388",vipPrice:"378",shopDesc:"自营",delivery:"厂商配送"},{id:3,imgUrl:"//img10.360buyimg.com/n2/s240x240_jfs/t1/210890/22/4728/163829/6163a590Eb7c6f4b5/6390526d49791cb9.jpg!q70.jpg",title:"活蟹】湖塘煙雨 阳澄湖大闸蟹公4.5两 母3.5两 4对8只 鲜活生鲜螃蟹现货水产礼盒海鲜水",price:"388",vipPrice:"378",shopDesc:"自营",delivery:"厂商配送",shopName:"阳澄湖大闸蟹自营店>"}];m.data=a}function s(){console.log(e.value),e.value.total=0,e.value.sumPrice=0;for(var a in e.value.data)console.log(a),e.value.data[a].checked==!0&&(e.value.total=Number(e.value.total)+Number(e.value.data[a].num),e.value.sumPrice=Number(e.value.sumPrice)+Number(e.value.data[a].price)*Number(e.value.data[a].num));console.log(e.value.total,e.value.sumPrice)}function _(){console.log("选择/取消所有商品");for(var a in e.value.data)e.value.data[a].checked=n.value;s()}function b(){console.log("选择/取消指定商品");let a=Object.keys(e.value.data).filter(l=>e.value.data[l].checked);console.log(a,e.value.data),a.length==Object.keys(e.value.data).length?n.value=!0:n.value=!1,s()}return(a,l)=>{const x=ge,C=Z,I=te,O=ae,R=W,A=Q;return g(),k("div",ke,[r(R,null,{default:u(()=>[(g(!0),k(P,null,$(m.data,(c,q)=>(g(),k(P,{key:q},[r(C,{span:"2"},{default:u(()=>[r(x,{modelValue:f(e).data[c.id].checked,"onUpdate:modelValue":v=>f(e).data[c.id].checked=v,class:"center",onClick:b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),r(C,{span:"22"},{default:u(()=>[r(O,{price:c.price,title:c.title,thumb:c.imgUrl},{desc:u(()=>[h("span",Ve,H(c.delivery),1),xe,Ce,ye]),num:u(()=>[r(I,{modelValue:f(e).data[c.id].num,"onUpdate:modelValue":v=>f(e).data[c.id].num=v,theme:"round","button-size":"22",min:"1","disable-input":"",onChange:s},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["price","title","thumb"])]),_:2},1024)],64))),128))]),_:1}),r(A,{price:f(e).sumPrice,"button-text":"去支付",onSubmit:p},{tip:u(()=>[S(" 提醒信息 ")]),default:u(()=>[r(x,{modelValue:f(n),"onUpdate:modelValue":l[0]||(l[0]=c=>M(n)?n.value=c:n=c),onClick:_},{default:u(()=>[S("全选")]),_:1},8,["modelValue"])]),_:1},8,["price"])])}}},Ke=ne(Pe,[["__scopeId","data-v-ade63b86"]]);export{Ke as default};
