import{u as X,ai as q,aj as K,h as Y,k as J,z as $,$ as W,ak as Q,al as Z}from"./index-4aaa8925.js";var P;const w=typeof window<"u",Kt=t=>typeof t=="string",R=()=>{};w&&((P=window==null?void 0:window.navigator)!=null&&P.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function tt(t){return typeof t=="function"?t():X(t)}function et(t,e){function n(...r){return new Promise((i,o)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(o)})}return n}function nt(t,e=!0,n=!0,r=!1){let i=0,o,a=!0,s=R,c;const u=()=>{o&&(clearTimeout(o),o=void 0,s(),s=R)};return d=>{const m=tt(t),b=Date.now()-i,y=()=>c=d();return u(),m<=0?(i=Date.now(),y()):(b>m&&(n||!a)?(i=Date.now(),y()):e&&(c=new Promise((h,T)=>{s=r?T:h,o=setTimeout(()=>{i=Date.now(),a=!0,h(y()),u()},Math.max(0,m-b))})),!n&&!o&&(o=setTimeout(()=>a=!0,m)),a=!1,c)}}function Yt(t){return t}function Jt(t){return q()?(K(t),!0):!1}function Qt(t,e=200,n=!1,r=!0,i=!1){return et(nt(e,n,r,i),t)}function Zt(t,e=!0){Y()?J(t):e?t():$(t)}const te=(t,e)=>{if(!w||!t||!e)return!1;const n=t.getBoundingClientRect();let r;return e instanceof Element?r=e.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},D=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},rt=(t,e)=>Math.abs(D(t)-D(e));var it=typeof global=="object"&&global&&global.Object===Object&&global;const ot=it;var st=typeof self=="object"&&self&&self.Object===Object&&self,at=ot||st||Function("return this")();const U=at;var ct=U.Symbol;const O=ct;var B=Object.prototype,lt=B.hasOwnProperty,ut=B.toString,S=O?O.toStringTag:void 0;function ft(t){var e=lt.call(t,S),n=t[S];try{t[S]=void 0;var r=!0}catch{}var i=ut.call(t);return r&&(e?t[S]=n:delete t[S]),i}var dt=Object.prototype,gt=dt.toString;function mt(t){return gt.call(t)}var bt="[object Null]",pt="[object Undefined]",F=O?O.toStringTag:void 0;function yt(t){return t==null?t===void 0?pt:bt:F&&F in Object(t)?ft(t):mt(t)}function ht(t){return t!=null&&typeof t=="object"}var Tt="[object Symbol]";function vt(t){return typeof t=="symbol"||ht(t)&&yt(t)==Tt}var St=/\s/;function wt(t){for(var e=t.length;e--&&St.test(t.charAt(e)););return e}var Et=/^\s+/;function Ot(t){return t&&t.slice(0,wt(t)+1).replace(Et,"")}function j(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _=0/0,jt=/^[-+]0x[0-9a-f]+$/i,It=/^0b[01]+$/i,xt=/^0o[0-7]+$/i,Nt=parseInt;function H(t){if(typeof t=="number")return t;if(vt(t))return _;if(j(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=j(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ot(t);var n=It.test(t);return n||xt.test(t)?Nt(t.slice(2),n?2:8):jt.test(t)?_:+t}var $t=function(){return U.Date.now()};const x=$t;var Ct="Expected a function",kt=Math.max,At=Math.min;function Lt(t,e,n){var r,i,o,a,s,c,u=0,f=!1,d=!1,m=!0;if(typeof t!="function")throw new TypeError(Ct);e=H(e)||0,j(n)&&(f=!!n.leading,d="maxWait"in n,o=d?kt(H(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m);function b(l){var p=r,v=i;return r=i=void 0,u=l,a=t.apply(v,p),a}function y(l){return u=l,s=setTimeout(E,e),f?b(l):a}function h(l){var p=l-c,v=l-u,L=e-p;return d?At(L,o-v):L}function T(l){var p=l-c,v=l-u;return c===void 0||p>=e||p<0||d&&v>=o}function E(){var l=x();if(T(l))return A(l);s=setTimeout(E,h(l))}function A(l){return s=void 0,m&&r?b(l):(r=i=void 0,a)}function G(){s!==void 0&&clearTimeout(s),u=0,r=c=i=s=void 0}function z(){return s===void 0?a:A(x())}function I(){var l=x(),p=T(l);if(r=arguments,i=this,c=l,p){if(s===void 0)return y(c);if(d)return clearTimeout(s),s=setTimeout(E,e),b(c)}return s===void 0&&(s=setTimeout(E,e)),a}return I.cancel=G,I.flush=z,I}var Pt="Expected a function";function M(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Pt);return j(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Lt(t,e,{leading:r,maxWait:e,trailing:i})}const ee=t=>t===void 0,Rt=t=>typeof t=="number",ne=t=>typeof Element>"u"?!1:t instanceof Element,Dt=t=>W(t)?!Number.isNaN(Number(t)):!1;class Ft extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function _t(t,e){throw new Ft(`[${t}] ${e}`)}const Ht=(t,e)=>{var n;if(!w||!t||!e)return"";let r=Q(e);r==="float"&&(r="cssFloat");try{const i=t.style[r];if(i)return i;const o=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return o?o[r]:""}catch{return t.style[r]}};function re(t,e="px"){if(!t)return"";if(Rt(t)||Dt(t))return`${t}${e}`;if(W(t))return t}const Mt=(t,e)=>{if(!w)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=Ht(t,n);return["scroll","auto","overlay"].some(i=>r.includes(i))},Wt=(t,e)=>{if(!w)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(Mt(n,e))return n;n=n.parentNode}return n},g="ElInfiniteScroll",Ut=50,Bt=200,Vt=0,Gt={delay:{type:Number,default:Bt},distance:{type:Number,default:Vt},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},k=(t,e)=>Object.entries(Gt).reduce((n,[r,i])=>{var o,a;const{type:s,default:c}=i,u=t.getAttribute(`infinite-scroll-${r}`);let f=(a=(o=e[u])!=null?o:u)!=null?a:c;return f=f==="false"?!1:f,f=s(f),n[r]=Number.isNaN(f)?c:f,n},{}),V=t=>{const{observer:e}=t[g];e&&(e.disconnect(),delete t[g].observer)},zt=(t,e)=>{const{container:n,containerEl:r,instance:i,observer:o,lastScrollTop:a}=t[g],{disabled:s,distance:c}=k(t,i),{clientHeight:u,scrollHeight:f,scrollTop:d}=r,m=d-a;if(t[g].lastScrollTop=d,o||s||m<0)return;let b=!1;if(n===t)b=f-(u+d)<=c;else{const{clientTop:y,scrollHeight:h}=t,T=rt(t,r);b=d+u>=T+y+h-c}b&&e.call(i)};function N(t,e){const{containerEl:n,instance:r}=t[g],{disabled:i}=k(t,r);i||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(r):V(t))}const Xt={async mounted(t,e){const{instance:n,value:r}=e;Z(r)||_t(g,"'v-infinite-scroll' binding value must be a function"),await $();const{delay:i,immediate:o}=k(t,n),a=Wt(t,!0),s=a===window?document.documentElement:a,c=M(zt.bind(null,t,r),i);if(a){if(t[g]={instance:n,container:a,containerEl:s,delay:i,cb:r,onScroll:c,lastScrollTop:s.scrollTop},o){const u=new MutationObserver(M(N.bind(null,t,r),Ut));t[g].observer=u,u.observe(t,{childList:!0,subtree:!0}),N(t,r)}a.addEventListener("scroll",c)}},unmounted(t){const{container:e,onScroll:n}=t[g];e==null||e.removeEventListener("scroll",n),V(t)},async updated(t){if(!t[g])await $();else{const{containerEl:e,cb:n,observer:r}=t[g];e.clientHeight&&r&&N(t,n)}}},C=Xt;C.install=t=>{t.directive("InfiniteScroll",C)};const ie=C;export{ie as E,O as S,w as a,Zt as b,Yt as c,vt as d,j as e,yt as f,U as g,Rt as h,Kt as i,ee as j,re as k,_t as l,M as m,R as n,ne as o,Wt as p,te as q,tt as r,Jt as t,Qt as u};
